<!DOCTYPE html>
<html>
<head>
	<title> 测试boom</title>
	<link rel="stylesheet" type="text/css" href="css/boom-test.css"/>
	<script type="text/javascript" src="js/lib/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="js/imgBoom.js"></script>
</head>
<body>
	<div class='img-gallary' id="gallary">
		<img class='boom-img' src='img/avatar1.jpg' id='boomTarget'/>
		<img class='boom-img' src='img/avatar.jpg' id='boomTarget1'/>
		<img class='boom-img' src='img/avatar1.jpg' id='boomTarget2'/>
	</div>
	<input type="file" name="file" class='file-upload' id='uploadBtn'>
	<script>
		// let option = {
		// 	columns: 20,
		// 	rows: 20,
		// 	duration: 1000,
		// 	isBoom: true,
		// 	isBlur: false,
		// }
		// $('#boomTarget').imgBoom(option);

		$('img').imgBoom({spaceTime: 2000});


		let fileBtn = document.getElementById('uploadBtn');
		fileBtn.onchange = function(){
			let file = this.files[0];
			if(file){
				let reader = new FileReader();
				reader.readAsDataURL(file);
				reader.onload = function(e){
					let src = e.target.result;
					let img = document.createElement('img');
					img.className = 'boom-img';
					img.src = src;
					img.id = 'boomTarget'+Math.random().toFixed(4).replace('.','_');
					$('#gallary').append(img);
					$(img).imgBoom({isBoom: true});
				}
			}
		}
	</script>
</body>
</html>